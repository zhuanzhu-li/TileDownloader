package com.zhuanzhu;

import junit.framework.TestCase;
import org.geotools.geometry.jts.ReferencedEnvelope;
import org.geotools.referencing.crs.DefaultGeographicCRS;
import org.locationtech.jts.geom.Coordinate;
import org.locationtech.jts.geom.Geometry;
import org.locationtech.jts.geom.GeometryFactory;
import org.locationtech.jts.geom.Polygon;
import org.locationtech.jts.io.WKTReader;

public class TileGridTest extends TestCase {

    public void testEnvelope() throws Exception {
        GeometryFactory gg = new GeometryFactory();
        TileGrid tileGrid = new TileGrid(3235, 1680, 12);
        Polygon x = tileGrid.referencedEnvelopeToPolygon();
        System.out.println(x);
        Geometry read = new WKTReader().read("MULTIPOLYGON (((102.88130964500004 27.268504991000043, 102.98349542900007 26.349227650000046, 102.67314732200003 26.208881081000072, 102.55030341100007 26.365754975000073, 101.83396404500007 26.049271547000046, 101.39743915300005 26.545788266000045, 101.51174545700007 26.77217379600006, 101.38790005800007 26.726555120000057, 101.13575811200008 27.025695214000052, 101.16879568600007 27.198977840000055, 100.67955834400004 27.927049390000036, 100.32644316100004 27.723806026000034, 100.16748559400008 27.90028583700007, 100.01990501600005 28.15085792900004, 100.17523064400007 28.328212290000067, 99.71666292700007 28.849579563000077, 99.40167617500003 28.549006487000042, 99.40113992200008 28.15402717300003, 99.19999029000007 28.36783562100004, 98.95720815100003 30.767638628000043, 98.60128737900004 31.192152255000053, 98.63729103100007 31.338637917000028, 98.77536852400004 31.251030385000035, 98.88653024000007 31.37707895500006, 98.41508139000007 31.83241092000003, 98.21843511800006 32.34473321400003, 97.48414372400003 32.65508883200005, 97.34745221900005 32.89720464900006, 97.75827388000005 33.40509984100004, 97.41503020600004 33.60712765100004, 97.36805193700008 33.82570446700004, 97.64201770800008 33.926760311000066, 97.66581236400003 34.12910700300006, 98.40404469700007 34.08710965700004, 98.75821412900007 33.28008401000005, 99.26711821600009 32.88091809400004, 99.72911767800008 32.72748444600006, 99.90198028400005 33.04931144300008, 100.12169172900008 32.839319174000025, 100.10865489400004 32.64139805000008, 100.39857553200005 32.75841150100007, 100.66234886200004 32.52487273300005, 100.68583129400008 32.67949842000007, 101.18837088500004 32.68879799700005, 101.12300350200007 33.22307024100007, 101.63031936800007 33.10280175400004, 101.84268142200006 33.60430794100006, 101.94472403000003 33.44472200900003, 101.76579520600006 33.26531144000006, 101.82382495400009 33.12154893400003, 102.20759516000004 33.227076243000056, 102.47636054200007 33.54388290900005, 102.13772244600005 33.97274168200005, 102.65611864900006 34.083122950000075, 102.91012419300006 34.314650537000034, 103.17690185700008 34.08145740000003, 103.15551362800005 33.81067124200007, 104.16597847600008 33.61332642700006, 104.21825905700007 33.40638042100005, 104.43465523500004 33.32421386500005, 104.30044428400004 33.30506249900003, 104.42413304000007 33.01632013700004, 104.29175701900004 32.83788554500006, 104.64222766400007 32.66357879200007, 105.14041874500003 32.60336073600007, 105.45141451000006 32.739303403000065, 105.45249870000004 32.934599072000026, 105.59282001200006 32.70165308600008, 106.03810190500008 32.86708595500005, 106.39911681500007 32.61922780500004, 107.05815613700008 32.713089730000036, 107.21640908500007 32.42397571300006, 107.42421738700006 32.534964073000026, 107.97375777800005 32.14857150300003, 108.50263872000005 32.24789726500006, 108.25476483700004 31.96966553900006, 108.54219048100003 31.667379322000045, 108.18596451300004 31.493552124000075, 107.94989733200003 30.87497411000004, 107.47561927100008 30.84090600500008, 107.51160026900004 30.645652866000034, 107.06976695800006 30.052487773000053, 106.72841154400004 30.029478668000024, 106.55366877700004 30.318647722000037, 106.23827032700007 30.179436573000032, 105.81653043200004 30.440208357000074, 105.53297054200004 30.167605578000064, 105.74389824300005 30.035521851000055, 105.73378407200005 29.865083640000023, 105.31753287300006 29.612342346000048, 105.32111645900005 29.451330171000052, 105.47202098000008 29.282254214000034, 105.71188298400006 29.29846294500004, 105.79400117400007 28.93909760300005, 106.22372292200004 28.892488786000058, 106.37664970600008 28.510587674000078, 105.96424406900007 28.764991509000026, 105.62054845800009 28.521681899000043, 105.63664214700003 28.31461805300006, 105.78400350400005 28.33910998300007, 105.87608718400008 28.126750058000027, 106.20336329900005 28.137657166000054, 106.33800441900007 27.82343734500006, 105.30511774900003 27.708467942000027, 105.26832701800004 28.000042221000058, 105.04610406100005 28.102134036000052, 104.56989916400005 27.84439184100006, 104.29577544100005 28.04873886000007, 104.45985359600007 28.244982746000062, 104.24498239800005 28.529043699000056, 104.42271515800007 28.629891678000035, 103.85272335800005 28.671744010000054, 103.87282988600003 28.309825373000024, 103.44936458600006 28.12552102400008, 103.48743903900004 27.80078577100005, 102.88130964500004 27.268504991000043)))");
        System.out.println(read.intersects(x));
    }
}